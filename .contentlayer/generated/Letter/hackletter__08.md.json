{
  "title": "How can React components listen to websocket updates?",
  "date": "2021-05-11T00:00:00.000Z",
  "body": {
    "raw": "\nFew days back, I work on setting up a websocket client for a frontend React project at work. There was a lot of thought process involved.\n\n- Do we store the socket instance in state?\n- Or a ref because we wont have to update it.\n- What if I have multiple components that want to use the socket? Maybe I store near the root and pass the socket via props to the components that need it.\n- A lot of passing props. Should I use context now?\n\nI ended up with creating a **custom hook** that lets components listen to websocket events when they mount. I wrote what I learned, along with some code, in [this new post](https://aravindballa.com/writings/custom-hook-to-listen-websockets/).\n\n## Website update\n\nWorked on the header and the footer for the website. Nothing crazy happening there other than Tailwind's new update which introduces CSS filters like background blur. The header has a blur when is on top of content.\n\n![header](https://res.cloudinary.com/djeivq7td/image/upload/v1620703463/HL/ab-website-header.png)\n\nHere is the Tailwind update if you'd like to have a look at the complete update - [https://blog.tailwindcss.com/tailwindcss-2-1](https://blog.tailwindcss.com/tailwindcss-2-1)\n\n---\n\nThat's all for this Tuesday. If you are enjoying these letters, can you please reply to this with some nice kind words? ðŸ˜¬ I can put them up on the website for some social proof.\n\n![https://res.cloudinary.com/djeivq7td/image/upload/c_thumb,w_200,g_face/v1620704079/HL/IMG_2502.jpg](https://res.cloudinary.com/djeivq7td/image/upload/q_100,w_400/v1620704079/HL/IMG_2502.jpg)\n\n_A vase which I spray painted_\n\nSee you in a week.\n",
    "code": "var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var g=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),f=(n,e)=>{for(var o in e)s(n,o,{get:e[o],enumerable:!0})},r=(n,e,o,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of u(e))!m.call(n,i)&&i!==o&&s(n,i,{get:()=>e[i],enumerable:!(a=p(e,i))||a.enumerable});return n};var b=(n,e,o)=>(o=n!=null?d(w(n)):{},r(e||!n||!n.__esModule?s(o,\"default\",{value:n,enumerable:!0}):o,n)),k=n=>r(s({},\"__esModule\",{value:!0}),n);var c=g((x,h)=>{h.exports=_jsx_runtime});var _={};f(_,{default:()=>j,frontmatter:()=>y});var t=b(c()),y={title:\"How can React components listen to websocket updates?\",date:\"2021-05-11\",type:\"Letter\"};function l(n){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",strong:\"strong\",a:\"a\",h2:\"h2\",img:\"img\",hr:\"hr\",em:\"em\"},n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:\"Few days back, I work on setting up a websocket client for a frontend React project at work. There was a lot of thought process involved.\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"Do we store the socket instance in state?\"}),`\n`,(0,t.jsx)(e.li,{children:\"Or a ref because we wont have to update it.\"}),`\n`,(0,t.jsx)(e.li,{children:\"What if I have multiple components that want to use the socket? Maybe I store near the root and pass the socket via props to the components that need it.\"}),`\n`,(0,t.jsx)(e.li,{children:\"A lot of passing props. Should I use context now?\"}),`\n`]}),`\n`,(0,t.jsxs)(e.p,{children:[\"I ended up with creating a \",(0,t.jsx)(e.strong,{children:\"custom hook\"}),\" that lets components listen to websocket events when they mount. I wrote what I learned, along with some code, in \",(0,t.jsx)(e.a,{href:\"https://aravindballa.com/writings/custom-hook-to-listen-websockets/\",children:\"this new post\"}),\".\"]}),`\n`,(0,t.jsx)(e.h2,{children:\"Website update\"}),`\n`,(0,t.jsx)(e.p,{children:\"Worked on the header and the footer for the website. Nothing crazy happening there other than Tailwind's new update which introduces CSS filters like background blur. The header has a blur when is on top of content.\"}),`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:\"https://res.cloudinary.com/djeivq7td/image/upload/v1620703463/HL/ab-website-header.png\",alt:\"header\"})}),`\n`,(0,t.jsxs)(e.p,{children:[\"Here is the Tailwind update if you'd like to have a look at the complete update - \",(0,t.jsx)(e.a,{href:\"https://blog.tailwindcss.com/tailwindcss-2-1\",children:\"https://blog.tailwindcss.com/tailwindcss-2-1\"})]}),`\n`,(0,t.jsx)(e.hr,{}),`\n`,(0,t.jsx)(e.p,{children:\"That's all for this Tuesday. If you are enjoying these letters, can you please reply to this with some nice kind words? \\u{1F62C} I can put them up on the website for some social proof.\"}),`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:\"https://res.cloudinary.com/djeivq7td/image/upload/q_100,w_400/v1620704079/HL/IMG_2502.jpg\",alt:\"https://res.cloudinary.com/djeivq7td/image/upload/c_thumb,w_200,g_face/v1620704079/HL/IMG_2502.jpg\"})}),`\n`,(0,t.jsx)(e.p,{children:(0,t.jsx)(e.em,{children:\"A vase which I spray painted\"})}),`\n`,(0,t.jsx)(e.p,{children:\"See you in a week.\"})]})}function v(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(l,n)})):l(n)}var j=v;return k(_);})();\n;return Component;"
  },
  "_id": "hackletter/08.md",
  "_raw": {
    "sourceFilePath": "hackletter/08.md",
    "sourceFileName": "08.md",
    "sourceFileDir": "hackletter",
    "contentType": "markdown",
    "flattenedPath": "hackletter/08"
  },
  "type": "Letter",
  "slug": "/hackletter/08"
}